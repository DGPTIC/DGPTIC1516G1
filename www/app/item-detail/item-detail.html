<ion-navbar *navbar>
  <ion-title>
    {{item.name}}
  </ion-title>
</ion-navbar>

<ion-content>
	<div>
		<div class="header-detail">
			<div class="avatar" item-left>
				<img src="img/{{item.categoryId}}.png">
			</div>
			<div class="content-item">
				<h2>{{item.name}}</h2>
				<p>by:{{item.owner}}</p>
			</div>
		</div>
		<ul class="tab-nav">
			<li (click)="changeSection('rutes')">Rutes</li>
			<li (click)="changeSection('about')">About</li>
		</ul>
	
	<div [ng-switch]="section">
		<div *ng-switch-when="'about'">
			<ul id="content-description">
				<li>
					<h2>About</h2>
					<icon ion-alert></icon>
					
					<p>{{item.description}}</p>
				</li>
				<li>
					<h2>{{item.main_group_title}}</h2>
					<icon ion-alert></icon>
					
					<p>{{item.main_group_description}}</p>
				</li>
				<li>
					<h2>Licence</h2>
					<icon ion-alert></icon>
					
					<p>{{item.license}}</p>
				</li>
			</ul>
		</div>
		<div *ng-switch-when="'rutes'">
			<!--<map></map>
			<ion-list>
				<ion-item *ng-for="#rute of item.rutes" (click)="showSection($event)"> -->


			<ion-card *ng-for="#rute of item.rutes, #i=index" class="adv-map">
				<div style="position: relative">
					<img src="{{getStaticMap(rute)}}">
					<button class="fab-map disable-hover button button-default button-fab button-icon-only button-fab-top" fab="" fab-right="" fab-top="">
						<icon ion-ios-pin></icon>
					</button>
				</div>
				<ion-item class="item">
					<ion-avatar class="icon-avatar" item-left="" [ng-switch]="item.categoryId">
						
						<icon *ng-switch-when="'senderos'" ion-android-walk></icon>

						<icon *ng-switch-when="'parapente'" ion-ios-paperplane></icon>

						<icon *ng-switch-when="'mtb'" ion-clipboard></icon>

			    	</ion-avatar>
			    	<div class="item-inner">
			    		<ion-item-content cnt="">
			    			<h2>{{rute.NAME}}</h2>
			    			<p *ng-if="rute.TIPO">{{rute.TIPO}}</p>
			    			<p *ng-if="rute.FINEZA">Fineza: {{rute.FINEZA}}</p>
			  			</ion-item-content>
			  		</div>
			  	</ion-item>
				
				<ion-item class="item" *ng-if="rute.DIFICULTAD">
					<ion-avatar class="icon-avatar" item-left="">
						<icon ion-wand></icon>
					</ion-avatar>
						<div class="item-inner">
							<ion-item-content cnt="">
								<h2>{{rute.DIFICULTAD}}</h2>
								<p>Dificultad</p>
							</ion-item-content>
						</div>
				</ion-item>
				
				
				<div class="more-info" (click)="showMoreContent(i)" *ng-if="item.categoryId=='parapente'">
					<ion-item class="item">
						<div class="item-inner" item-right="">
							<ion-item-content cnt="">
								<h2>More Information</h2>
							</ion-item-content>
						</div>
						<ion-avatar class="icon-avatar" item-right="">
							<icon ion-alert></icon>
						</ion-avatar>
					</ion-item>
				<div class="more-content">
				<!-- parapente -->
				<ion-item class="item" *ng-if="rute.Informacion">
					<ion-avatar class="icon-avatar" item-left="">
						<icon ion-playstation></icon>
					</ion-avatar>
						<div class="item-inner">
							<ion-item-content cnt="">
								<h2>Informaci&oacute;n</h2>
								<p>{{rute.Informacion}}</p>
							</ion-item-content>
						</div>
				</ion-item>
				<ul class="table-style">
				<li>
				<ion-item class="item" *ng-if="rute.ATERRIZAJE">
					<ion-avatar class="icon-avatar" item-left="">
						<icon ion-android-notifications-none></icon>
					</ion-avatar>
						<div class="item-inner">
							<ion-item-content cnt="">
								<h2>{{rute.ATERRIZAJE}}</h2>
								<p>Aterrizaje</p>
							</ion-item-content>
						</div>
				</ion-item>
				</li>
				<li>
				<ion-item class="item" *ng-if="rute.ALTITUD">
					<ion-avatar class="icon-avatar" item-left="">
						<icon ion-android-chat></icon>
					</ion-avatar>
						<div class="item-inner">
							<ion-item-content cnt="">
								<h2>{{rute.ALTITUD}}</h2>
								<p>Altitud</p>
								<h2>{{rute.LongitudW}}</h2>
								<p>Longitud</p>
								<h2>{{rute.LatitudN}}</h2>
								<p>Latitud</p>
							</ion-item-content>
						</div>
				</ion-item>
				</li>
				<li>
				<ion-item class="item" *ng-if="rute.DESNIVEL!=null">
					<ion-avatar class="icon-avatar" item-left="">
						<icon ion-android-exit></icon>
					</ion-avatar>
						<div class="item-inner">
							<ion-item-content cnt="">
								<h2>{{rute.DESNIVEL}}</h2>
								<p>Desnivel</p>
							</ion-item-content>
						</div>
				</ion-item>
				</li>
				<li>
				<ion-item class="item" *ng-if="rute.Seguridad">
					<ion-avatar class="icon-avatar" item-left="">
						<icon ion-arrow-swap></icon>
					</ion-avatar>
						<div class="item-inner">
							<ion-item-content cnt="">
								<h2>Seguridad</h2>
								<p>{{rute.Seguridad}}</p>
								<p>Fecuencia: {{rute.Frecuencia_seguridad}}</p>
							</ion-item-content>
						</div>
							
				</ion-item>
				</li>
				</ul>
				<!-- end parapente -->
					</div>
				</div>

				
				
				<ion-item actions="" class="item">
					<div item-left="" [style.display]="!rute.LONGITUD? 'none':'block'">
						<span class="item-bold" item-left="">{{rute.LONGITUD | distance:'km'}}</span>
						<span class="item-subtle" item-left="">Km</span>
					</div>
					<button clear="" item-left="" primary="" class="disable-hover button button-clear button-icon-left button-clear-primary" (click)="viewComments(rute.NAME)">
				      <icon ion-md-text></icon>
				      <div>Comments</div>
				    </button>

					<div class="item-inner">
						<ion-item-content cnt=""></ion-item-content>
						<button clear="" item-right="" primary="" class="disable-hover button button-clear button-icon-left button-clear-primary">
	  						<icon ion-md-navigate></icon>Start
	  					</button>
	  				</div>
      			</ion-item>
    		</ion-card>
		</div>
	</div>
	
</ion-content>